module.exports=function(n){var t={};function e(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:i})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var a in n)e.d(i,a,function(t){return n[t]}.bind(null,a));return i},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=19)}([function(n,t){n.exports=flarum.core.compat["common/extend"]},function(n,t){n.exports=flarum.core.compat["admin/app"]},,,,,function(n,t){n.exports=flarum.core.compat["common/components/Select"]},,,,,,,,,,,function(n,t){n.exports=flarum.core.compat["common/utils/withAttr"]},function(n,t){n.exports=flarum.core.compat["admin/components/ExtensionPage"]},function(n,t,e){"use strict";e.r(t);var i=e(1),a=e.n(i),o=e(6),r=e.n(o),s=e(0),l=e(17),p=e.n(l),c=e(18),u=e.n(c);function d(){return(d=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n}).apply(this,arguments)}var f=function(n,t){void 0===t&&(t={});var e=d({},t);return n.forEach((function(n){e[n]=n})),e},g=["Clippy","Merlin","Rover","Links","Bonzi","F1","Genie","Genius","Peedy","Rocky"],y=["page.index","page.search","page.discussion","page.profile","page.tags","page.settings","modal.signup","modal.login","composer.discussion.open","composer.discussion.hide","composer.discussion.submit","composer.reply.open","composer.reply.hide","composer.reply.submit","action.subscription.follow","action.subscription.unfollow","action.subscription.notifications","action.likes.like","action.likes.unlike"];a.a.initializers.add("clarkwinkelmann-clippy",(function(){var n=null;Object(s.extend)(u.a.prototype,"oninit",(function(){"clarkwinkelmann-clippy"===this.attrs.id&&(n&&n.hide(),clippy.BASE_PATH=a.a.forum.attribute("clippyAgentPath"),clippy.load(a.a.data.settings["clippy.agent"]||"Clippy",(function(t){(n=t).show(),m.redraw()})))})),a.a.extensionData.for("clarkwinkelmann-clippy").registerSetting({type:"select",setting:"clippy.cdn",options:{s3:a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.cdn-options.s3"),jsdelivr:a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.cdn-options.jsdelivr"),custom:a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.cdn-options.custom")},default:"s3",label:a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.cdn")}).registerSetting((function(){return m(".Form-group",[m("label",a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.path")),m(".helpText",a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.path-help",{a:m("a",{href:"https://github.com/smore-inc/clippy.js",target:"_blank",rel:"noopener"})})),m("input.FormControl",{type:"text",bidi:this.setting("clippy.path"),disabled:"custom"!==this.setting("clippy.cdn")()})])})).registerSetting((function(){var t=this;return m(".Form-group",[m("label",a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.agent")),m(".helpText",a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.agent-help")),r.a.component({value:this.setting("clippy.agent","Clippy")(),options:f(g),onchange:function(e){t.setting("clippy.agent")(e),n&&(n.hide(),n=null),clippy.load(e,(function(e){(n=e).show();var i=n.animations();try{var a=JSON.parse(t.setting("clippy.events")());"object"==typeof a&&(y.forEach((function(n){a[n]&&a[n].animation&&-1===i.indexOf(a[n].animation)&&(a[n].text?delete a[n].animation:delete a[n])})),t.setting("clippy.events")(JSON.stringify(a)))}catch(n){}m.redraw()}))}})])})).registerSetting((function(){var t=this,e={};try{e=JSON.parse(this.setting("clippy.events")())}catch(n){}return"object"!=typeof e&&(e={}),m(".Form-group",m.fragment({key:this.setting("clippy.agent")()+(n?"Loaded":"Loading")},[m("label",a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.events")),m(".helpText",a.a.translator.trans("clarkwinkelmann-clippy.admin.settings.events-help")),m("table",[m("thead",m("tr",[m("th",a.a.translator.trans("clarkwinkelmann-clippy.admin.events.name")),m("th",a.a.translator.trans("clarkwinkelmann-clippy.admin.events.animation")),m("th",a.a.translator.trans("clarkwinkelmann-clippy.admin.events.text"))])),m("tbody",y.map((function(i){return m("tr",[m("td",m("pre",i)),m("td",r.a.component({value:e[i]&&e[i].animation||"none",options:f(n?n.animations():[],{none:"---"}),onchange:function(a){"none"===a?e[i].text?delete e[i].animation:delete e[i]:(n&&(n.stop(),n.play(a)),e[i]=e[i]||{},e[i].animation=a),t.setting("clippy.events")(JSON.stringify(e))}})),m("td",m("input.FormControl",{type:"text",value:e[i]&&e[i].text||"",onchange:p()("value",(function(a){a?(n&&(console.log("speak",n,a),n.speak(a)),e[i]=e[i]||{},e[i].text=a):e[i].animation?delete e[i].text:delete e[i],t.setting("clippy.events")(JSON.stringify(e))}))}))])})))])]))}))}))}]);
//# sourceMappingURL=admin.js.map